@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Dark theme (default) — Figma palette */
  :root {
    --color-bg: #0F172A;
    --color-surface: #111C2F;
    --color-text: #F8FAFC;
    --color-text-muted: #94A3B8;
    --color-primary: #3B9CFF;
    --color-primary-hover: #2B8CE8;
    --color-border: #1E293B;
    --color-muted-bg: #1E293B;
    --color-input-border: #334155;
    --color-error: #EF4444;
    --color-success: #22C55E;
    --color-warning: #F59E0B;
    --color-info: #3B9CFF;

    /* Game type pills */
    --color-pill-slots: #60a5fa;
    --color-pill-crash: #f87171;
    --color-pill-table: #4ade80;
    --color-pill-live: #c084fc;
    --color-pill-bingo: #fb923c;
    --color-pill-lottery: #f472b6;
    --color-pill-poker: #2dd4bf;
    --color-pill-default: #9ca3af;

    /* Currency mode */
    --color-currency-fiat: #4ade80;
    --color-currency-crypto: #c084fc;
    --color-currency-both: #60a5fa;
    --color-currency-custom: #fb923c;

    /* Status */
    --color-status-active: #22C55E;
    --color-status-inactive: #6b7280;

    /* Accent */
    --color-accent-blue: #3B9CFF;
    --color-accent-green: #22C55E;

    /* Backdrop */
    --color-backdrop: rgba(0, 0, 0, 0.6);
  }

  /* Light theme — Figma palette */
  :root[data-theme="light"] {
    --color-bg: #F8FAFC;
    --color-surface: #FFFFFF;
    --color-text: #0F172A;
    --color-text-muted: #64748B;
    --color-primary: #3B9CFF;
    --color-primary-hover: #2B8CE8;
    --color-border: #E2E8F0;
    --color-muted-bg: #F1F5F9;
    --color-input-border: #CBD5E1;
    --color-error: #EF4444;
    --color-success: #22C55E;
    --color-warning: #D97706;
    --color-info: #3B9CFF;

    /* Game type pills — darker variants for light-bg readability */
    --color-pill-slots: #2563eb;
    --color-pill-crash: #dc2626;
    --color-pill-table: #16a34a;
    --color-pill-live: #9333ea;
    --color-pill-bingo: #ea580c;
    --color-pill-lottery: #db2777;
    --color-pill-poker: #0d9488;
    --color-pill-default: #4b5563;

    /* Currency mode — darker variants for light-bg readability */
    --color-currency-fiat: #16a34a;
    --color-currency-crypto: #9333ea;
    --color-currency-both: #2563eb;
    --color-currency-custom: #ea580c;

    /* Status */
    --color-status-active: #16a34a;
    --color-status-inactive: #4b5563;

    /* Accent */
    --color-accent-blue: #3B9CFF;
    --color-accent-green: #22C55E;

    /* Backdrop */
    --color-backdrop: rgba(0, 0, 0, 0.5);
  }

  /* Apply theme to body */
  body {
    background-color: var(--color-bg);
    color: var(--color-text);
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  /* Smooth theme transitions on all themed elements */
  *,
  *::before,
  *::after {
    transition-property: color, background-color, border-color, box-shadow;
    transition-duration: 0ms;
  }

  :root[data-theme-transitioning] *,
  :root[data-theme-transitioning] *::before,
  :root[data-theme-transitioning] *::after {
    transition-duration: 200ms;
    transition-timing-function: ease;
  }
}

@layer utilities {
  .bg-checkerboard {
    background-image: conic-gradient(
      var(--color-border) 25%, transparent 25%,
      transparent 50%, var(--color-border) 50%,
      var(--color-border) 75%, transparent 75%
    );
    background-size: 12px 12px;
  }

  /* Expand/collapse animation using CSS grid */
  .expand-grid {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 300ms ease-out;
  }

  .expand-grid.expanded {
    grid-template-rows: 1fr;
  }

  .expand-grid > * {
    overflow: hidden;
  }
}
